<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head th:replace="fragments/layout.html :: html_head"/>

<body>
<div th:replace="fragments/layout.html :: menu"/>
		<!--navigation bar-->
<div align="center">
		
		<h1>My Leave History</h1>
		<table>
		<thead>
			<tr>			
				<th>From Date</th>
				<th>To Date</th>
				<th>No of Days</th>
				<th>Leave Type</th>
				<th>Reason</th>
				<th>Status</th>
				<th>Cancel</th>
				<th>Edit</th>
				
			</tr>
		</thead>
		<tbody>
			<tr th:each="leave,iterStat : ${leaveList}">
				<td th:text="${leave.fromDate}">FROMdate</td>
				<td th:text="${leave.toDate}">toDATE</td>
				<td th:text="${leave.duration}">duration</td>
				<td th:text="${leave.leaveType}">leavetype</td>
				<td th:text="${leave.reason}">reason</td>
				
				<td>
					<span th:if="${leave.active}">PENDING</span>
					<span th:if="${!leave.active && leave.acceptRejectFlag}">ACCEPTED</span>
					<span th:if="${!leave.active && !leave.acceptRejectFlag}">REJECTED</span>
				</td>
				<td>
					<a th:href="@{'/deletemyleave/'+${leave.id}}">Cancel</a>
				</td>
				<td th:if="${leave.active}">
					<a th:href="@{'/editmyleave/'+${leave.id}}">Edit</a>	
				</td >
				
			</tr>
		</tbody>	
		</table>
		
</div>
</body>
</html>